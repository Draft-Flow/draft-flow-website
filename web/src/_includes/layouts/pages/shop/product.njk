{% extends 'layouts/base/index.njk' %}

{% if product.banner.ref %}
{% set bannerSrc %}
  {% imageBannerUrlFor product.banner.ref, 2000 %}
{% endset %}
{% endif %}

{% set crumbsJSON = collections.shop | eleventyNavigationBreadcrumb(eleventyNavigation.key, { includeSelf: true }) %}
{% set logoSrc %}{% imageUrlFor product.brand.logo.ref, 900 %}{% endset %}
{% set logoAlt = product.brand.logo.alt %}
{% set tertiaryTitle = oneLiner %}

{% block banner %}
  {% include 'src/_includes/layouts/includes/bannerLarge.njk' %}
{% endblock %}

{% block content %}
  <section class="flex justify-center px-2 lg:px-4 bg-white">
    <div class="max-w-7xl w-full py-20 grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-8">
      <div>
        <div>
          {% if options[0].images[0] %}
            {% image options[0].images[0], title, "(min-width: 640px) 100vw, 50vw", null, 'eager', null, [1500, 1000], 'object-cover w-full' %}
          {% endif %}
        </div>
        <ul class="grid grid-cols-4 gap-4">
          {% if options.length > 1 %}
          {% for option in options %}
            {% for image in option.images  %}
            <li>
              {% image image, option.name, "(min-width: 640px) 100vw, 50vw", null, 'eager', null, [200, 400], 'object-cover w-full' %}
            </li>
            {% endfor %}
          {% endfor %}
          {% endif %}
        </ul>
        <a href="/brands/{{ brand.slug }}/">
            {% image logoSrc, brand.logo.alt, "(min-width: 20em) 50vw, 100vw", null, 'eager', null, null, 'h-8 md:h-14 w-auto' %}
        </a>
      </div>
      <div class="">
        <h2 class="text-3xl font-bold font-df-sans uppercase">
          <span class="text-zinc-500">{{ brand.name }}</span> {{ title }}
        </h2>
        
        <div class="">
          {{ body | safe }}
        </div>
        <div>
          {{ options | dump }}
          {% for option in options %}
          {{ option | dump}}
          {% endfor %}
        </div>
      </div>
    </div>
  </section>
{% endblock %}
