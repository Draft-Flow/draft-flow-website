{% extends 'layouts/base/index.njk' %}

{%- set pageContent = pages | getPage(pageID) -%}

{% block content %}
  
  {%- set bannerImageLg -%}
    {%- imageUrlFor pageContent.banner.asset._ref, 2000 -%}
  {%- endset -%}

  <section
    class="relative w-full pt-40 md:pb-20 2xl:py-60 bg-cover bg-no-repeat bg-center overflow-hidden min-h-[50rem] md:min-h-[400px] flex flex-col justify-end md:justify-center items-center after:absolute after:top-0 after:left-0 after:w-full after:bg-pg-blue-dark/[.4] after:h-full after:grow after:min-h-[50rem] md:after:min-h-[400px]"
    style="background-image: url('{{ bannerImageLg }}')"
  >
    <div class="flex flex-col z-10 text-white px-4 md:px-12 pb-20 md:pb-0 w-full sm:w-4/5 2xl:w-2/3 4xl:w-1/2 text-center items-center">
      <small class="uppercase text-base font-bold">Welcome to Perthshire Gravel</small>
      <div class="divider w-40"></div>
      <h1 class="leading-[1.1em]">{{ pageContent.title }}</h1>
      <div class="md:flex mt-12">
        <a 
          class="iconButton flex items-center rounded bg-pg-lime text-pg-blue-dark px-4 h-10 md:mr-4 mb-3 md:mb-0 font-bold"
          href="/routes/"
        >
          {% svgIcon 'src/assets/icons/routeExplorerIcon.svg', 'mr-2 h-8 fill-pg-blue-dark' %}
          Route Explorer
        </a>
        <a 
          class="iconButton inline-flex items-center rounded bg-pg-blue-dark text-pg-tan-light px-4 h-10 font-bold"
          href=""
        >
          {% svgIcon 'src/assets/icons/videoIcon.svg', 'mr-2 h-5' %}
          Video Tour
        </a>
      </div>
    </div>
  </section>

  <section class="flex justify-center px-2 lg:px-4 py-20">
    <div class="w-full max-w-6xl">
      <div class="md:pl-16 pb-8">
        <h1 class="max-w-2xl">Find your next gravel biking adventure in Perthshire!</h1>
        <div class="divider w-40"></div>
        <p class="max-w-prose">Explore our popular single and multi-day gravel biking routes below or bunny hop over to our <a href="/map/" class="underline">Route Map</a>.</p>
      </div>
      {% set routesList = collections.routes | routesData | shuffle  %}
      {% include "./includes/routesList.njk" %}
    </div>
  </section>

  {# {% set linkBlock1 = pageContent.linkBlock1 %}
  {%- set linkBlock1Banner -%}
    {%- imageUrlFor linkBlock1.background.asset._ref, 2000 -%}
  {%- endset -%}
  <section class="relative w-full py-20 2xl:py-36 bg-cover bg-no-repeat bg-center overflow-hidden flex flex-col items-center after:absolute after:top-0 after:left-0 after:w-full after:bg-neutral-800/[.7] after:h-full after:grow"
    style="background-image: url('{{ linkBlock1Banner }}')"
  >
    <div class="w-full max-w-6xl px-4">
      <div class="relative w-4/5 sm:w-3/5 md:w-1/2 xl:w-1/3 text-white z-10">
        <h1 class="max-w-2xl">{{ linkBlock1.title }}</h1>
        <div class="divider w-40"></div>
        <div class="max-w-prose text-lg mb-12">{{ linkBlock1.text | blocksToHTML | safe }}</div>
        <a 
          class="inline-flex items-center rounded bg-pg-tan text-pg-blue-dark px-4 h-10 md:mr-4 mb-3 md:mb-0 font-bold"
          href="{{ linkBlock1.link }}"
        >
          {{ linkBlock1.buttonText }} {% svgIcon 'src/assets/icons/arrow.svg', 'ml-2 h-4' %}
        </a>
      </div>
    </div>
  </section> #}

  {% set linkBlock2 = pageContent.linkBlock2 %}
  {%- set linkBlock2Banner -%}
    {%- imageUrlFor linkBlock2.background.asset._ref, 2000 -%}
  {%- endset -%}
  <section class="relative w-full py-20 2xl:py-36 bg-cover bg-no-repeat bg-left overflow-hidden flex flex-col items-center  after:absolute after:top-0 after:left-0 after:w-full after:bg-gradient-to-r after:from-white/80 after:to-white/40 md:after:from-transparent md:after:via-white/70 md:after:to-white/90 after:h-full after:grow"
    style="background-image: url('{{ linkBlock2Banner }}')"
  >
    <div class="w-full max-w-6xl px-4 flex md:justify-end">
      <div class="relative w-4/5 sm:w-3/5 md:w-1/2 lg:w-2/5 2xl:w-1/3 text-pg-blue-dark z-10">
        <h1 class="max-w-2xl">{{ linkBlock2.title }}</h1>
        <div class="divider w-40"></div>
        <div class="max-w-prose text-lg mb-12">{{ linkBlock2.text | blocksToHTML | safe }}</div>
        <a 
          class="inline-flex items-center rounded bg-pg-tan text-pg-blue-dark px-4 h-10 md:mr-4 mb-3 md:mb-0 font-bold"
          href="{{ linkBlock2.link }}"
        >
          {{ linkBlock2.buttonText }} {% svgIcon 'src/assets/icons/arrow.svg', 'ml-2 h-4' %}
        </a>
      </div>
    </div>
  </section>
{% endblock %}
